exports.ids=[5],exports.modules={CEEh:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return FormSelectComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("fXoL"),_constants_form_labels_list__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("rd51"),_angular_common__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("ofXK"),_angular_forms__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("3Pt+"),_form_property_validator_form_property_validator_component__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("aEjQ");function FormSelectComponent_label_1_span_2_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]())}function FormSelectComponent_label_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"label",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](2,FormSelectComponent_label_1_span_2_Template,2,0,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275classMap"](ctx_r0.col?"p-0":"col-sm-3"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("for",ctx_r0.fieldId),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate1"](" ",ctx_r0.label,""),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",null==ctx_r0.validator?null:ctx_r0.validator.required)}}function FormSelectComponent_option_6_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"option",8),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()),2&rf){const opt_r3=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("value",opt_r3._id),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate1"](" ",opt_r3.name," ")}}class FormSelectComponent{constructor(){this.fieldId=null,this.control=null,this.options=[],this.showLabel=!0,this.col=!0,this.select=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.label=null,this.validationErrors=null}ngOnInit(){this.label=_constants_form_labels_list__WEBPACK_IMPORTED_MODULE_1__.a[this.fieldId]?_constants_form_labels_list__WEBPACK_IMPORTED_MODULE_1__.a[this.fieldId]:""}ngDoCheck(){this.control.validator&&(this.validator=this.control.validator({})),this.validationErrors=this.control.touched&&this.control.invalid?this.control.errors:null}onChange(event){this.select.emit(event.target.value)}}FormSelectComponent.\u0275fac=function FormSelectComponent_Factory(t){return new(t||FormSelectComponent)},FormSelectComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineComponent"]({type:FormSelectComponent,selectors:[["form-select"]],inputs:{fieldId:"fieldId",control:"control",options:"options",showLabel:"showLabel",col:"col"},outputs:{select:"select"},decls:8,vars:11,consts:[[1,"form-group"],["class","d-none d-sm-block col-form-label col-form-label-sm",3,"for","class",4,"ngIf"],[1,"form-control","form-control-sm",3,"id","formControl","change"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"validationErrors","name"],[1,"d-none","d-sm-block","col-form-label","col-form-label-sm",3,"for"],[4,"ngIf"],[3,"value"]],template:function FormSelectComponent_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](1,FormSelectComponent_label_1_Template,3,5,"label",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](2,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](3,"select",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("change",function FormSelectComponent_Template_select_change_3_listener($event){return ctx.onChange($event)}),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](4,"option",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](5),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](6,FormSelectComponent_option_6_Template,2,2,"option",4),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275element"](7,"form-property-validator",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275classMap"](ctx.col?"":"row"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf",ctx.showLabel),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275classMap"](ctx.col?"":"col-sm-9"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("id",ctx.fieldId)("formControl",ctx.control),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate1"]("Select a ",ctx.label,""),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngForOf",ctx.options),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("validationErrors",ctx.validationErrors)("name",ctx.label))},directives:[_angular_common__WEBPACK_IMPORTED_MODULE_2__.NgIf,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.s,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.l,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.d,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.p,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.u,_angular_common__WEBPACK_IMPORTED_MODULE_2__.NgForOf,_form_property_validator_form_property_validator_component__WEBPACK_IMPORTED_MODULE_4__.a],styles:[""]})},K1o8:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"ROUTES",function(){return ROUTES}),__webpack_require__.d(__webpack_exports__,"FeaturesModule",function(){return FeaturesModule});var router=__webpack_require__("tyNb"),shared_module=__webpack_require__("KZX/"),tslib=__webpack_require__("zOht"),pagination_model=__webpack_require__("9FRo"),core=__webpack_require__("fXoL"),features_service=__webpack_require__("nN8Z"),data=__webpack_require__("msxj"),ng_table_component=__webpack_require__("wSIx");class feature_table_component_FeatureTableComponent{constructor(){this.edit=new core.EventEmitter,this.refresh=new core.EventEmitter,this.active=new core.EventEmitter,this.featuresPriorities=data.b,this.tableName="Feature Table",this.columns=[{key:"_id",type:"image",content:feature=>({classname:"table_image",text:"Edit",url:this.imageUrl+`${feature._id}`,event:{key:"img",id:feature._id}})},{path:"name",label:"Name",searchable:!0},{path:"priority",label:"Priority"},{path:"active",label:"Active"},{key:"_id",type:"button",content:brand=>({classname:"edit_link",text:"Select",link:"#",event:{key:"edit",id:brand._id}})}],this.sortColumn={path:"priority",order:"asc",limit:8,page:1,search:""},this.pushCol=0}ngOnChanges(changes){if(this.canActivate&&!this.pushCol&&(this.columns.push({key:"_id",type:"button",content:product=>({classname:"edit_link",text:(null==product?void 0:product.active)?"Deactivate":"Activate",link:"#",event:{key:"active",id:product._id}})}),this.pushCol=1),this.featurePage&&this.featurePage.docs.length){const pvalue={};this.featuresPriorities.forEach(p=>pvalue[p._id]=p.name);const value=this.featurePage.docs.map(_a=>{var{priority:priority}=_a,rest=Object(tslib.__rest)(_a,["priority"]);return Object.assign({priority:pvalue[priority]},rest)});this.featurePage.docs=value}}buttonEvent(event){switch(event.key){case"edit":this.edit.emit(event.id);break;case"active":this.active.emit(event.id)}}onRefresh(event){this.sortColumn=Object.assign({},event),this.refresh.emit(new pagination_model.a(event.page,event.limit,event.path,event.order,event.search))}}feature_table_component_FeatureTableComponent.\u0275fac=function FeatureTableComponent_Factory(t){return new(t||feature_table_component_FeatureTableComponent)},feature_table_component_FeatureTableComponent.\u0275cmp=core["\u0275\u0275defineComponent"]({type:feature_table_component_FeatureTableComponent,selectors:[["app-feature-table"]],inputs:{featurePage:"featurePage",imageUrl:"imageUrl",canActivate:"canActivate"},outputs:{edit:"edit",refresh:"refresh",active:"active"},features:[core["\u0275\u0275NgOnChangesFeature"]],decls:1,vars:4,consts:[[3,"tableName","columns","sortColumn","data","refresh","btnEvent"]],template:function FeatureTableComponent_Template(rf,ctx){1&rf&&(core["\u0275\u0275elementStart"](0,"ng-table",0),core["\u0275\u0275listener"]("refresh",function FeatureTableComponent_Template_ng_table_refresh_0_listener($event){return ctx.onRefresh($event)})("btnEvent",function FeatureTableComponent_Template_ng_table_btnEvent_0_listener($event){return ctx.buttonEvent($event)}),core["\u0275\u0275elementEnd"]()),2&rf&&core["\u0275\u0275property"]("tableName",ctx.tableName)("columns",ctx.columns)("sortColumn",ctx.sortColumn)("data",ctx.featurePage)},directives:[ng_table_component.a],styles:[""]});var fesm2015_forms=__webpack_require__("3Pt+"),base_form_component=__webpack_require__("I/JT"),common=__webpack_require__("ofXK"),form_input_component=__webpack_require__("gpvV"),form_select_component=__webpack_require__("CEEh"),form_file_component=__webpack_require__("xS1Y"),form_validator_component=__webpack_require__("/ZIw");function FeatureFormComponent_ng_container_2_Template(rf,ctx){if(1&rf&&(core["\u0275\u0275elementContainerStart"](0),core["\u0275\u0275elementStart"](1,"p",12),core["\u0275\u0275text"](2),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementContainerEnd"]()),2&rf){const ctx_r0=core["\u0275\u0275nextContext"]();core["\u0275\u0275advance"](2),core["\u0275\u0275textInterpolate"](ctx_r0.err)}}function FeatureFormComponent_button_11_Template(rf,ctx){if(1&rf){const _r4=core["\u0275\u0275getCurrentView"]();core["\u0275\u0275elementStart"](0,"button",10),core["\u0275\u0275listener"]("click",function FeatureFormComponent_button_11_Template_button_click_0_listener(){core["\u0275\u0275restoreView"](_r4);return core["\u0275\u0275nextContext"]().onDelete()}),core["\u0275\u0275text"](1,"Delete"),core["\u0275\u0275elementEnd"]()}}function FeatureFormComponent_div_14_Template(rf,ctx){if(1&rf&&(core["\u0275\u0275elementStart"](0,"div",13),core["\u0275\u0275element"](1,"form-validator",14),core["\u0275\u0275elementEnd"]()),2&rf){const ctx_r2=core["\u0275\u0275nextContext"]();core["\u0275\u0275advance"](1),core["\u0275\u0275property"]("form",ctx_r2.form)}}class feature_form_component_FeatureFormComponent extends base_form_component.a{constructor(fb){super(),this.fb=fb,this.priorities=data.b,this.createForm()}createForm(){this.form=this.fb.group({name:["",fesm2015_forms.t.required],priority:["",fesm2015_forms.t.required],images:[null]})}onError(event){this.err=event}}feature_form_component_FeatureFormComponent.\u0275fac=function FeatureFormComponent_Factory(t){return new(t||feature_form_component_FeatureFormComponent)(core["\u0275\u0275directiveInject"](fesm2015_forms.c))},feature_form_component_FeatureFormComponent.\u0275cmp=core["\u0275\u0275defineComponent"]({type:feature_form_component_FeatureFormComponent,selectors:[["app-feature-form"]],features:[core["\u0275\u0275InheritDefinitionFeature"]],decls:15,vars:15,consts:[[1,"form-head"],[4,"ngIf"],[1,"p-3",3,"formGroup","ngSubmit","mouseleave"],[3,"fieldId","control"],[3,"fieldId","control","options"],[3,"fieldId","form","hints","err"],[1,"d-flex","flex-row-reverse","bd-highlight"],[3,"mouseenter"],["type","submit",1,"btn","btn-sm","btn-light","mx-1",3,"disabled"],["type","button","class","btn btn-sm btn-light mx-1",3,"click",4,"ngIf"],["type","button",1,"btn","btn-sm","btn-light","mx-1",3,"click"],["class","text-danger",4,"ngIf"],[1,"px-4","text-center","text-danger"],[1,"text-danger"],[3,"form"]],template:function FeatureFormComponent_Template(rf,ctx){1&rf&&(core["\u0275\u0275elementStart"](0,"div",0),core["\u0275\u0275text"](1),core["\u0275\u0275elementEnd"](),core["\u0275\u0275template"](2,FeatureFormComponent_ng_container_2_Template,3,1,"ng-container",1),core["\u0275\u0275elementStart"](3,"form",2),core["\u0275\u0275listener"]("ngSubmit",function FeatureFormComponent_Template_form_ngSubmit_3_listener(){return ctx.submit()})("mouseleave",function FeatureFormComponent_Template_form_mouseleave_3_listener(){return ctx.mouseoverShifting=!1}),core["\u0275\u0275element"](4,"form-input",3),core["\u0275\u0275element"](5,"form-select",4),core["\u0275\u0275elementStart"](6,"form-file",5),core["\u0275\u0275listener"]("err",function FeatureFormComponent_Template_form_file_err_6_listener($event){return ctx.onError($event)}),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementStart"](7,"div",6),core["\u0275\u0275elementStart"](8,"span",7),core["\u0275\u0275listener"]("mouseenter",function FeatureFormComponent_Template_span_mouseenter_8_listener(){return ctx.mouseoverShifting=!0}),core["\u0275\u0275elementStart"](9,"button",8),core["\u0275\u0275text"](10),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementEnd"](),core["\u0275\u0275template"](11,FeatureFormComponent_button_11_Template,2,0,"button",9),core["\u0275\u0275elementStart"](12,"button",10),core["\u0275\u0275listener"]("click",function FeatureFormComponent_Template_button_click_12_listener(){return ctx.clean()}),core["\u0275\u0275text"](13,"Clear"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementEnd"](),core["\u0275\u0275template"](14,FeatureFormComponent_div_14_Template,2,1,"div",11),core["\u0275\u0275elementEnd"]()),2&rf&&(core["\u0275\u0275advance"](1),core["\u0275\u0275textInterpolate1"](" ",ctx.exists?"Update":"New"," Feature\n"),core["\u0275\u0275advance"](1),core["\u0275\u0275property"]("ngIf",ctx.err.length>0),core["\u0275\u0275advance"](1),core["\u0275\u0275property"]("formGroup",ctx.form),core["\u0275\u0275advance"](1),core["\u0275\u0275property"]("fieldId","name")("control",ctx.form.get("name")),core["\u0275\u0275advance"](1),core["\u0275\u0275property"]("fieldId","priority")("control",ctx.form.get("priority"))("options",ctx.priorities),core["\u0275\u0275advance"](1),core["\u0275\u0275property"]("fieldId","images")("form",ctx.form)("hints","Preferred image size is 1024x400 px"),core["\u0275\u0275advance"](3),core["\u0275\u0275property"]("disabled",!ctx.form.valid),core["\u0275\u0275advance"](1),core["\u0275\u0275textInterpolate"](ctx.exists?"Update":"Save"),core["\u0275\u0275advance"](1),core["\u0275\u0275property"]("ngIf",ctx.exists),core["\u0275\u0275advance"](3),core["\u0275\u0275property"]("ngIf",ctx.mouseoverShifting))},directives:[common.NgIf,fesm2015_forms.v,fesm2015_forms.m,fesm2015_forms.f,form_input_component.a,form_select_component.a,form_file_component.a,form_validator_component.a],styles:[""]});class index_component_IndexComponent{constructor(service){this.service=service,this.loading=!1,this.errMsg="",this.imageUrl=this.service.imageLink+"/image/"}ngOnInit(){this.getList(new pagination_model.a(1,8,"priority"))}getList(pagi){return Object(tslib.__awaiter)(this,void 0,void 0,function*(){try{this.loading=!0,this.featurePage=yield this.service.getList(pagi).toPromise(),this.loading=!1}catch(err){this.errMsg=err.message}})}onEdit(event){const value=this.featurePage.docs.find(b=>b._id===event);this.feature=Object.assign({},value)}onCreate(event){return Object(tslib.__awaiter)(this,void 0,void 0,function*(){try{this.loading=!0;const resp=yield this.service.create(event).toPromise();this.featurePage.docs.push(resp),this.clear()}catch(err){}})}onUpdate(event){return Object(tslib.__awaiter)(this,void 0,void 0,function*(){try{this.loading=!0;yield this.service.update(this.feature._id,event).toPromise();this.getList(new pagination_model.a),this.clear()}catch(err){this.errMsg=err.message}})}onDelete(id){return Object(tslib.__awaiter)(this,void 0,void 0,function*(){if(confirm("Are you sure to delete"))try{this.loading=!0;yield this.service.delete(id).toPromise();const index=this.featurePage.docs.findIndex(f=>f._id===id);index>-1&&this.featurePage.docs.splice(index,1),this.clear()}catch(err){this.errMsg=err.message}})}onActive(id){return Object(tslib.__awaiter)(this,void 0,void 0,function*(){try{this.loading=!0;const resp=yield this.service.activate(id).toPromise(),index=this.featurePage.docs.findIndex(p=>p._id===id);this.featurePage.docs.splice(index,1,resp),this.loading=!1}catch(err){}})}clear(){this.feature=null,this.errMsg="",this.loading=!1}}index_component_IndexComponent.\u0275fac=function IndexComponent_Factory(t){return new(t||index_component_IndexComponent)(core["\u0275\u0275directiveInject"](features_service.a))},index_component_IndexComponent.\u0275cmp=core["\u0275\u0275defineComponent"]({type:index_component_IndexComponent,selectors:[["app-index"]],decls:55,vars:5,consts:[[1,"container-fluid","component-head"],[1,"container"],[1,"row"],[1,"col-md-8"],[3,"featurePage","imageUrl","canActivate","edit","refresh","active"],[1,"col-md-4"],[1,"border","rounded","bg-white"],[3,"item","err","create","update","delete"],[1,"bg-light","mt-3"],[1,"table","mt-2","text-secondary","table-responsive-sm","table-sm","bg-white"]],template:function IndexComponent_Template(rf,ctx){1&rf&&(core["\u0275\u0275elementStart"](0,"div",0),core["\u0275\u0275elementStart"](1,"h3"),core["\u0275\u0275text"](2,"Features"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementStart"](3,"div",1),core["\u0275\u0275elementStart"](4,"div",2),core["\u0275\u0275elementStart"](5,"div",3),core["\u0275\u0275elementStart"](6,"app-feature-table",4),core["\u0275\u0275listener"]("edit",function IndexComponent_Template_app_feature_table_edit_6_listener($event){return ctx.onEdit($event)})("refresh",function IndexComponent_Template_app_feature_table_refresh_6_listener($event){return ctx.getList($event)})("active",function IndexComponent_Template_app_feature_table_active_6_listener($event){return ctx.onActive($event)}),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementStart"](7,"div",5),core["\u0275\u0275elementStart"](8,"div",6),core["\u0275\u0275elementStart"](9,"app-feature-form",7),core["\u0275\u0275listener"]("create",function IndexComponent_Template_app_feature_form_create_9_listener($event){return ctx.onCreate($event)})("update",function IndexComponent_Template_app_feature_form_update_9_listener($event){return ctx.onUpdate($event)})("delete",function IndexComponent_Template_app_feature_form_delete_9_listener($event){return ctx.onDelete($event)}),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementStart"](10,"div",8),core["\u0275\u0275elementStart"](11,"table",9),core["\u0275\u0275elementStart"](12,"tr"),core["\u0275\u0275elementStart"](13,"th"),core["\u0275\u0275text"](14,"Prioity"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementStart"](15,"th"),core["\u0275\u0275text"](16,"Details"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementStart"](17,"th"),core["\u0275\u0275text"](18,"Quantity"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementStart"](19,"tr"),core["\u0275\u0275elementStart"](20,"th"),core["\u0275\u0275text"](21,"0"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementStart"](22,"td"),core["\u0275\u0275text"](23,"Navbar elements"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementStart"](24,"td"),core["\u0275\u0275text"](25,"1-5"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementStart"](26,"tr"),core["\u0275\u0275elementStart"](27,"th"),core["\u0275\u0275text"](28,"1"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementStart"](29,"td"),core["\u0275\u0275text"](30,"Main banner"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementStart"](31,"td"),core["\u0275\u0275text"](32,"1"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementStart"](33,"tr"),core["\u0275\u0275elementStart"](34,"th"),core["\u0275\u0275text"](35,"2"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementStart"](36,"td"),core["\u0275\u0275text"](37,"EXCLUSIVE MULTIBUY"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementStart"](38,"td"),core["\u0275\u0275text"](39,"1"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementStart"](40,"tr"),core["\u0275\u0275elementStart"](41,"th"),core["\u0275\u0275text"](42,"3"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementStart"](43,"td"),core["\u0275\u0275text"](44,"SPECIAL OFFER"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementStart"](45,"td"),core["\u0275\u0275text"](46,"1"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementEnd"](),core["\u0275\u0275element"](47,"tr"),core["\u0275\u0275elementStart"](48,"tr"),core["\u0275\u0275elementStart"](49,"th"),core["\u0275\u0275text"](50,"4"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementStart"](51,"td"),core["\u0275\u0275text"](52,"FEATURED OFFERS"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementStart"](53,"td"),core["\u0275\u0275text"](54,"Unlimited"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementEnd"]()),2&rf&&(core["\u0275\u0275advance"](6),core["\u0275\u0275property"]("featurePage",ctx.featurePage)("imageUrl",ctx.imageUrl)("canActivate",!0),core["\u0275\u0275advance"](3),core["\u0275\u0275property"]("item",ctx.feature)("err",ctx.errMsg))},directives:[feature_table_component_FeatureTableComponent,feature_form_component_FeatureFormComponent],styles:["[_nghost-%COMP%]{font-size:14px;font-family:Montserrat,sans-serif;display:block;position:relative;min-height:calc(100% - 57px);background-color:#f2f4f5}"]});var product_service=__webpack_require__("wOd6"),product_table_component=__webpack_require__("MYE5");function FeaturedProductsComponent_div_5_Template(rf,ctx){if(1&rf){const _r3=core["\u0275\u0275getCurrentView"]();core["\u0275\u0275elementStart"](0,"div",5),core["\u0275\u0275elementStart"](1,"app-feature-table",6),core["\u0275\u0275listener"]("edit",function FeaturedProductsComponent_div_5_Template_app_feature_table_edit_1_listener($event){core["\u0275\u0275restoreView"](_r3);return core["\u0275\u0275nextContext"]().onEdit($event)})("refresh",function FeaturedProductsComponent_div_5_Template_app_feature_table_refresh_1_listener($event){core["\u0275\u0275restoreView"](_r3);return core["\u0275\u0275nextContext"]().refreshData($event)}),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementEnd"]()}if(2&rf){const ctx_r0=core["\u0275\u0275nextContext"]();core["\u0275\u0275advance"](1),core["\u0275\u0275property"]("featurePage",ctx_r0.featurePage)("imageUrl",ctx_r0.imageUrl)}}function FeaturedProductsComponent_ng_container_6_tr_20_Template(rf,ctx){if(1&rf){const _r8=core["\u0275\u0275getCurrentView"]();core["\u0275\u0275elementStart"](0,"tr"),core["\u0275\u0275elementStart"](1,"td"),core["\u0275\u0275element"](2,"img",17),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementStart"](3,"td"),core["\u0275\u0275text"](4),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementStart"](5,"td"),core["\u0275\u0275text"](6),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementStart"](7,"td",13),core["\u0275\u0275elementStart"](8,"button",16),core["\u0275\u0275listener"]("click",function FeaturedProductsComponent_ng_container_6_tr_20_Template_button_click_8_listener(){core["\u0275\u0275restoreView"](_r8);const product_r6=ctx.$implicit;return core["\u0275\u0275nextContext"](2).onRemoveProduct(product_r6._id)}),core["\u0275\u0275element"](9,"i",18),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementEnd"]()}if(2&rf){const product_r6=ctx.$implicit,ctx_r5=core["\u0275\u0275nextContext"](2);core["\u0275\u0275advance"](2),core["\u0275\u0275property"]("src",ctx_r5.thumbUrl+product_r6._id,core["\u0275\u0275sanitizeUrl"]),core["\u0275\u0275advance"](2),core["\u0275\u0275textInterpolate"](product_r6.name),core["\u0275\u0275advance"](2),core["\u0275\u0275textInterpolate"](product_r6.size)}}function FeaturedProductsComponent_ng_container_6_Template(rf,ctx){if(1&rf){const _r10=core["\u0275\u0275getCurrentView"]();core["\u0275\u0275elementContainerStart"](0),core["\u0275\u0275elementStart"](1,"div",7),core["\u0275\u0275elementStart"](2,"product-table",8),core["\u0275\u0275listener"]("edit",function FeaturedProductsComponent_ng_container_6_Template_product_table_edit_2_listener($event){core["\u0275\u0275restoreView"](_r10);return core["\u0275\u0275nextContext"]().onAddProduct($event)})("refresh",function FeaturedProductsComponent_ng_container_6_Template_product_table_refresh_2_listener($event){core["\u0275\u0275restoreView"](_r10);return core["\u0275\u0275nextContext"]().refreshProductData($event)}),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementStart"](3,"div",9),core["\u0275\u0275elementStart"](4,"table",10),core["\u0275\u0275elementStart"](5,"thead"),core["\u0275\u0275elementStart"](6,"tr"),core["\u0275\u0275elementStart"](7,"td",11),core["\u0275\u0275elementStart"](8,"div",12),core["\u0275\u0275elementStart"](9,"div"),core["\u0275\u0275text"](10),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementStart"](11,"tr"),core["\u0275\u0275element"](12,"th"),core["\u0275\u0275elementStart"](13,"th"),core["\u0275\u0275text"](14,"Name"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementStart"](15,"th"),core["\u0275\u0275text"](16,"Size"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementStart"](17,"th",13),core["\u0275\u0275text"](18,"Remove"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementStart"](19,"tbody"),core["\u0275\u0275template"](20,FeaturedProductsComponent_ng_container_6_tr_20_Template,10,3,"tr",14),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementStart"](21,"div",15),core["\u0275\u0275elementStart"](22,"button",16),core["\u0275\u0275listener"]("click",function FeaturedProductsComponent_ng_container_6_Template_button_click_22_listener(){core["\u0275\u0275restoreView"](_r10);return core["\u0275\u0275nextContext"]().onClose()}),core["\u0275\u0275text"](23,"Close"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementContainerEnd"]()}if(2&rf){const ctx_r1=core["\u0275\u0275nextContext"]();core["\u0275\u0275advance"](2),core["\u0275\u0275property"]("productPage",ctx_r1.productPage)("thumbUrl",ctx_r1.thumbUrl)("small",!0),core["\u0275\u0275advance"](8),core["\u0275\u0275textInterpolate1"]("",null==ctx_r1.feature?null:ctx_r1.feature.name," product list"),core["\u0275\u0275advance"](10),core["\u0275\u0275property"]("ngForOf",ctx_r1.feature.products)}}class featured_products_component_FeaturedProductsComponent{constructor(service,productService){this.service=service,this.productService=productService,this.loading=!1,this.errMsg="",this.imageUrl=this.service.imageLink+"/image/",this.thumbUrl=this.productService.imageLink+"/thumb/"}ngOnInit(){this.getList(new pagination_model.a),this.getProductList(new pagination_model.a)}getList(pagi){return Object(tslib.__awaiter)(this,void 0,void 0,function*(){try{this.loading=!0,this.featurePage=yield this.service.getList(pagi).toPromise(),this.loading=!1}catch(err){this.errMsg=err.message}})}refreshData({page:page,limit:limit,sort:sort,order:order,search:search}){this.getList(new pagination_model.a(page,limit,sort,order,search))}onEdit(event){const value=this.featurePage.docs.find(b=>b._id===event);this.feature=Object.assign({},value)}getProductList(pagi){return Object(tslib.__awaiter)(this,void 0,void 0,function*(){try{this.loading=!0,this.productPage=yield this.productService.getList(pagi).toPromise(),this.loading=!1}catch(error){this.errMsg=error.message}})}refreshProductData({page:page,limit:limit,sort:sort,order:order,search:search}){this.getProductList(new pagination_model.a(page,limit,sort,order,search))}onAddProduct(id){return Object(tslib.__awaiter)(this,void 0,void 0,function*(){try{this.loading=!0;const resp=yield this.service.add(this.feature._id,id).toPromise();this.updateFeaturPage(resp)}catch(err){this.errMsg=err.message}})}onRemoveProduct(id){return Object(tslib.__awaiter)(this,void 0,void 0,function*(){try{this.loading=!0;const resp=yield this.service.remove(this.feature._id,id).toPromise();this.updateFeaturPage(resp)}catch(err){this.errMsg=err.message}})}updateFeaturPage(resp){this.feature=resp;const index=this.featurePage.docs.findIndex(fe=>fe._id===resp._id);index>=0&&this.featurePage.docs.splice(index,1,resp),this.loading=!1}onClose(){this.feature=null}}featured_products_component_FeaturedProductsComponent.\u0275fac=function FeaturedProductsComponent_Factory(t){return new(t||featured_products_component_FeaturedProductsComponent)(core["\u0275\u0275directiveInject"](features_service.a),core["\u0275\u0275directiveInject"](product_service.a))},featured_products_component_FeaturedProductsComponent.\u0275cmp=core["\u0275\u0275defineComponent"]({type:featured_products_component_FeaturedProductsComponent,selectors:[["app-featured-products"]],decls:7,vars:2,consts:[[1,"container-fluid","component-head"],[1,"container"],[1,"row"],["class","col-md-8",4,"ngIf"],[4,"ngIf"],[1,"col-md-8"],[3,"featurePage","imageUrl","edit","refresh"],[1,"col-md-6","bg-white"],[3,"productPage","thumbUrl","small","edit","refresh"],[1,"col-md-6"],[1,"table","table-hover","table-bordered","table-responsive-sm","bg-white"],["colspan","4",1,"form-head"],[1,"d-flex","justify-content-between"],[1,"text-right"],[4,"ngFor","ngForOf"],[1,"col-12","d-flex","flex-row-reverse"],[1,"btn","btn-sm","btn-danger",3,"click"],["_ngcontent-smn-c121","",1,"table_image",3,"src"],[1,"fa","fa-trash-o"]],template:function FeaturedProductsComponent_Template(rf,ctx){1&rf&&(core["\u0275\u0275elementStart"](0,"div",0),core["\u0275\u0275elementStart"](1,"h3"),core["\u0275\u0275text"](2,"Features"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementStart"](3,"div",1),core["\u0275\u0275elementStart"](4,"div",2),core["\u0275\u0275template"](5,FeaturedProductsComponent_div_5_Template,2,2,"div",3),core["\u0275\u0275template"](6,FeaturedProductsComponent_ng_container_6_Template,24,5,"ng-container",4),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementEnd"]()),2&rf&&(core["\u0275\u0275advance"](5),core["\u0275\u0275property"]("ngIf",!ctx.feature),core["\u0275\u0275advance"](1),core["\u0275\u0275property"]("ngIf",ctx.feature))},directives:[common.NgIf,feature_table_component_FeatureTableComponent,product_table_component.a,common.NgForOf],styles:["[_nghost-%COMP%]{font-size:14px;font-family:Montserrat,sans-serif;display:block;position:relative;min-height:calc(100% - 57px);background-color:#f2f4f5}"]});const ROUTES=[{path:"products",component:featured_products_component_FeaturedProductsComponent},{path:"",component:index_component_IndexComponent}];class FeaturesModule{}FeaturesModule.\u0275fac=function FeaturesModule_Factory(t){return new(t||FeaturesModule)},FeaturesModule.\u0275mod=core["\u0275\u0275defineNgModule"]({type:FeaturesModule}),FeaturesModule.\u0275inj=core["\u0275\u0275defineInjector"]({imports:[[shared_module.a,router.d.forChild(ROUTES)]]})},MYE5:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ProductTableComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("fXoL"),_ngTable_ng_table_ng_table_component__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("wSIx");class ProductTableComponent{constructor(){this.small=!1,this.edit=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.active=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.refresh=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.tableName="Product Table",this.columns=[{key:"_id",type:"image",content:product=>({classname:"table_image",url:this.thumbUrl+`${product._id}`,event:{key:"img",id:product._id}})},{path:"brand.name",label:"Brand"},{path:"category.name",label:"Category"},{path:"subCategory.name",label:"SubCategory"},{path:"subSubCategory.name",label:"SubSubCategory"},{path:"name",label:"Name",searchable:!0},{path:"priority",label:"Priority"},{path:"active",label:"Active"},{key:"_id",type:"button",content:product=>({classname:"edit_link",text:(null==product?void 0:product.active)?"Deactivate":"Activate",link:"#",event:{key:"active",id:product._id}})},{key:"_id",type:"link",content:product=>({classname:"edit_link d-print-none",text:"Edit",link:`/dashboard/products/new-products/${product._id}`})}],this.sortColumn={path:"name",order:"asc",limit:8,page:1,search:""}}ngOnChanges(changes){this.small&&(this.columns=[{key:"_id",type:"image",content:product=>({classname:"table_image",url:this.thumbUrl+`${product._id}`,event:{key:"img",id:product._id}})},{path:"name",label:"Name",searchable:!0},{path:"priority",label:"Priority"},{path:"active",label:"Active"},{key:"_id",type:"button",content:product=>({classname:"edit_link",text:"Add",link:"#",event:{key:"edit",id:product._id}})}])}buttonEvent(event){switch(event.key){case"edit":this.edit.emit(event.id);break;case"active":this.active.emit(event.id)}}onRefresh(event){this.sortColumn=Object.assign({},event),this.refresh.emit(Object.assign({sort:event.path},event))}}ProductTableComponent.\u0275fac=function ProductTableComponent_Factory(t){return new(t||ProductTableComponent)},ProductTableComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineComponent"]({type:ProductTableComponent,selectors:[["product-table"]],inputs:{productPage:"productPage",thumbUrl:"thumbUrl",small:"small"},outputs:{edit:"edit",active:"active",refresh:"refresh"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275NgOnChangesFeature"]],decls:1,vars:4,consts:[[3,"tableName","columns","sortColumn","data","refresh","btnEvent"]],template:function ProductTableComponent_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0,"ng-table",0),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("refresh",function ProductTableComponent_Template_ng_table_refresh_0_listener($event){return ctx.onRefresh($event)})("btnEvent",function ProductTableComponent_Template_ng_table_btnEvent_0_listener($event){return ctx.buttonEvent($event)}),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("tableName",ctx.tableName)("columns",ctx.columns)("sortColumn",ctx.sortColumn)("data",ctx.productPage)},directives:[_ngTable_ng_table_ng_table_component__WEBPACK_IMPORTED_MODULE_1__.a],styles:[""]})}};