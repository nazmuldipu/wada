(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{T9yq:function(t,e,o){"use strict";o.r(e),o.d(e,"ROUTES",function(){return D}),o.d(e,"OrdersModule",function(){return I});var r=o("tyNb"),n=o("KZX/"),i=o("mrSG"),c=o("msxj"),a=o("fXoL"),s=o("Si13"),d=o("9FRo"),l=o("ofXK"),b=o("3Pt+"),u=o("uEz7");function m(t,e){if(1&t&&(a.Tb(0,"option",15),a.Ec(1),a.Sb()),2&t){const t=e.$implicit;a.mc("value",t.name),a.Ab(1),a.Fc(t.text)}}function p(t,e){if(1&t&&(a.Tb(0,"option",15),a.Ec(1),a.Sb()),2&t){const t=e.$implicit;a.mc("value",t.name),a.Ab(1),a.Fc(t.text)}}function g(t,e){if(1&t){const t=a.Ub();a.Tb(0,"li",6),a.Tb(1,"div",7),a.Tb(2,"div",8),a.Tb(3,"label",9),a.Ec(4,"Order Status"),a.Sb(),a.Tb(5,"select",10),a.dc("change",function(e){return a.xc(t),a.fc().onOrderStatusSelect(e.target.value)}),a.Tb(6,"option",11),a.Ec(7,"All"),a.Sb(),a.Cc(8,m,2,2,"option",12),a.Sb(),a.Sb(),a.Tb(9,"div",8),a.Tb(10,"label",13),a.Ec(11,"Payment Methods"),a.Sb(),a.Tb(12,"select",14),a.dc("change",function(e){return a.xc(t),a.fc().onPaymentMethodSelect(e.target.value)}),a.Tb(13,"option",11),a.Ec(14,"All"),a.Sb(),a.Cc(15,p,2,2,"option",12),a.Sb(),a.Sb(),a.Sb(),a.Sb()}if(2&t){const t=a.fc();a.Ab(8),a.mc("ngForOf",t.orderStatusData),a.Ab(7),a.mc("ngForOf",t.paymentMethodsData)}}function f(t,e){if(1&t){const t=a.Ub();a.Tb(0,"li",16),a.dc("click",function(){a.xc(t);const o=e.$implicit;return a.fc().onSelectOrder(o)}),a.Tb(1,"div",17),a.Tb(2,"div",18),a.Tb(3,"div"),a.Ec(4),a.Sb(),a.Tb(5,"div",19),a.Ec(6),a.Sb(),a.Tb(7,"div",20),a.Ec(8),a.Sb(),a.Tb(9,"div",21),a.Ec(10),a.Sb(),a.Sb(),a.Tb(11,"div",22),a.Tb(12,"div"),a.Tb(13,"small"),a.Ec(14),a.gc(15,"date"),a.Sb(),a.Sb(),a.Tb(16,"div"),a.Ec(17),a.Sb(),a.Sb(),a.Sb(),a.Sb()}if(2&t){const t=e.$implicit;a.Ab(4),a.Gc(" Order # ",t.orderNumber," "),a.Ab(2),a.Fc(t.paymentStatus),a.Ab(2),a.Fc(t.orderStatus),a.Ab(2),a.Fc(t.paymentMethod),a.Ab(4),a.Gc(" ",a.ic(15,6,t.createdAt,"short"),""),a.Ab(3),a.Gc("Total : ",t.total,"")}}function h(t,e){if(1&t){const t=a.Ub();a.Tb(0,"pagination",23),a.dc("pageChange",function(e){return a.xc(t),a.fc().refreshOrderData(e)}),a.Sb()}if(2&t){const t=a.fc();a.mc("page",t.orderPage.page)("collectionSize",t.orderPage.totalDocs)("pageSize",t.orderPage.limit)("short",!0)}}let S=(()=>{class t{constructor(t){this.service=t,this.pick=new a.o,this.loading=!1,this.filter=!1,this.errMsg=""}ngOnInit(){this.paymentMethodsData=c.d,this.orderStatusData=c.c,this.pagi=new d.a(1,8,"orderNumber","desc",""),this.getOrders(this.pagi)}getOrders(t){return Object(i.a)(this,void 0,void 0,function*(){try{this.loading=!0,this.orderPage=yield this.service.getOrderList(t).toPromise(),this.loading=!1}catch(e){this.errMsg=e.message}})}refreshOrderData(t){this.pagi.page=t,this.updateOrders()}onPaymentMethodSelect(t){this.pagi.page=1,this.paymentMethodParam=""===t?null:"paymentMethod="+t,this.updateOrders()}onOrderStatusSelect(t){this.pagi.page=1,this.orderStatusParam=""===t?null:"orderStatus="+t,this.updateOrders()}updateOrders(){this.pagi.param=(this.paymentMethodParam?this.paymentMethodParam:"")+(this.paymentMethodParam&&this.orderStatusParam?"&":"")+(this.orderStatusParam?this.orderStatusParam:""),console.log(this.pagi.param),this.getOrders(this.pagi)}onSelectOrder(t){this.pick.emit(t)}onShowFilter(){this.filter=!this.filter}}return t.\u0275fac=function(e){return new(e||t)(a.Ob(s.a))},t.\u0275cmp=a.Ib({type:t,selectors:[["app-order-side-list"]],outputs:{pick:"pick"},decls:11,vars:4,consts:[[1,"list-group","mb-1"],[1,"list-group-item"],[3,"click"],["class","list-group-item p-1 px-2",4,"ngIf"],["class","list-group-item ordres",3,"click",4,"ngFor","ngForOf"],[3,"page","collectionSize","pageSize","short","pageChange",4,"ngIf"],[1,"list-group-item","p-1","px-2"],[1,"form-row"],[1,"form-group","col","m-0"],["for","orderStatus"],["id","orderStatus",1,"form-control","form-control-sm",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","paymentMethods"],["id","paymentMethods",1,"form-control","form-control-sm",3,"change"],[3,"value"],[1,"list-group-item","ordres",3,"click"],[1,"row"],[1,"col"],[1,"badge","badge-primary","mx-1"],[1,"badge","badge-success","mx-1"],[1,"badge","badge-info","mx-1"],[1,"col-auto"],[3,"page","collectionSize","pageSize","short","pageChange"]],template:function(t,e){1&t&&(a.Tb(0,"ul",0),a.Tb(1,"li",1),a.Ec(2,"Please select a "),a.Tb(3,"strong"),a.Ec(4," Order "),a.Sb(),a.Ec(5," from list below "),a.Tb(6,"a",2),a.dc("click",function(){return e.onShowFilter()}),a.Ec(7),a.Sb(),a.Sb(),a.Cc(8,g,16,2,"li",3),a.Cc(9,f,18,9,"li",4),a.Sb(),a.Cc(10,h,1,4,"pagination",5)),2&t&&(a.Ab(7),a.Gc("",e.filter?"Hide":"Show"," filter"),a.Ab(1),a.mc("ngIf",e.filter),a.Ab(1),a.mc("ngForOf",null==e.orderPage?null:e.orderPage.docs),a.Ab(1),a.mc("ngIf",(null==e.orderPage?null:e.orderPage.totalPages)>1))},directives:[l.o,l.n,b.p,b.u,u.a],pipes:[l.f],styles:[".ordres[_ngcontent-%COMP%]{font-size:14px;padding:5px}.ordres[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#ffc247}a[_ngcontent-%COMP%]{color:#00f!important;cursor:pointer}"]}),t})();var v=o("WcrV");function T(t,e){if(1&t&&(a.Tb(0,"option",20),a.Ec(1),a.Sb()),2&t){const t=e.$implicit;a.mc("value",t.name),a.Ab(1),a.Fc(t.text)}}function y(t,e){if(1&t&&(a.Tb(0,"option",20),a.Ec(1),a.Sb()),2&t){const t=e.$implicit;a.mc("value",t.name),a.Ab(1),a.Gc("",t.text," ")}}function M(t,e){if(1&t&&(a.Tb(0,"option",20),a.Ec(1),a.Sb()),2&t){const t=e.$implicit;a.mc("value",t.name),a.Ab(1),a.Gc("",t.text," ")}}function O(t,e){if(1&t){const t=a.Ub();a.Tb(0,"div",6),a.Pb(1,"app-order-details",7),a.Tb(2,"h5",8),a.Ec(3,"Update Order Status"),a.Sb(),a.Tb(4,"div",9),a.Tb(5,"div",10),a.Tb(6,"label",11),a.Ec(7,"Order Status"),a.Sb(),a.Tb(8,"select",12),a.dc("ngModelChange",function(e){return a.xc(t),a.fc().status.orderStatus=e}),a.Cc(9,T,2,2,"option",13),a.Sb(),a.Sb(),a.Tb(10,"div",10),a.Tb(11,"label",14),a.Ec(12,"Payment Methods"),a.Sb(),a.Tb(13,"select",15),a.dc("ngModelChange",function(e){return a.xc(t),a.fc().status.paymentMethod=e}),a.Cc(14,y,2,2,"option",13),a.Sb(),a.Sb(),a.Tb(15,"div",10),a.Tb(16,"label",16),a.Ec(17,"Payment Status"),a.Sb(),a.Tb(18,"select",17),a.dc("ngModelChange",function(e){return a.xc(t),a.fc().status.paymentStatus=e}),a.Cc(19,M,2,2,"option",13),a.Sb(),a.Sb(),a.Tb(20,"div",18),a.Tb(21,"button",19),a.dc("click",function(){return a.xc(t),a.fc().onUpdateStatus()}),a.Ec(22,"Update"),a.Sb(),a.Sb(),a.Sb(),a.Sb()}if(2&t){const t=a.fc();a.Ab(1),a.mc("order",t.order)("admin",!0),a.Ab(7),a.mc("ngModel",t.status.orderStatus),a.Ab(1),a.mc("ngForOf",t.orderStatusData),a.Ab(4),a.mc("ngModel",t.status.paymentMethod),a.Ab(1),a.mc("ngForOf",t.paymentMethodsData),a.Ab(4),a.mc("ngModel",t.status.paymentStatus),a.Ab(1),a.mc("ngForOf",t.paymentStatusData)}}let P=(()=>{class t{constructor(t){this.service=t}ngOnInit(){this.paymentMethodsData=c.d,this.orderStatusData=c.c,this.paymentStatusData=c.e}onDetails({_id:t}){return Object(i.a)(this,void 0,void 0,function*(){try{this.order=yield this.service.getOrder(t).toPromise(),this.order._id=t,this.status={orderStatus:this.order.orderStatus,paymentStatus:this.order.paymentStatus,paymentMethod:this.order.paymentMethod}}catch(e){console.log(e)}})}onUpdateStatus(){return Object(i.a)(this,void 0,void 0,function*(){console.log(this.status);try{this.order=yield this.service.updateStatus(this.order._id,this.status).toPromise()}catch(t){console.log(t)}})}}return t.\u0275fac=function(e){return new(e||t)(a.Ob(s.a))},t.\u0275cmp=a.Ib({type:t,selectors:[["app-index"]],decls:8,vars:1,consts:[[1,"container-fluid","component-head"],[1,"container-fluid"],[1,"row"],[1,"col-md-3"],[3,"pick"],["class","col-md-9",4,"ngIf"],[1,"col-md-9"],[3,"order","admin"],[1,"mt-3"],[1,"form-row","bg-white","m-1","p-2","mb-5","border"],[1,"form-group","col","m-0"],["for","orderStatus"],["id","orderStatus",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["for","paymentMethods"],["id","paymentMethods",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["for","paymentStatus"],["id","paymentMethod",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],[1,"col-auto","d-flex","align-items-end"],[1,"btn","btn-sm","btn-primary",3,"click"],[3,"value"]],template:function(t,e){1&t&&(a.Tb(0,"div",0),a.Tb(1,"h3"),a.Ec(2,"Orders"),a.Sb(),a.Sb(),a.Tb(3,"div",1),a.Tb(4,"div",2),a.Tb(5,"div",3),a.Tb(6,"app-order-side-list",4),a.dc("pick",function(t){return e.onDetails(t)}),a.Sb(),a.Sb(),a.Cc(7,O,23,8,"div",5),a.Sb(),a.Sb()),2&t&&(a.Ab(7),a.mc("ngIf",e.order))},directives:[S,l.o,v.a,b.s,b.l,b.o,l.n,b.p,b.u],styles:["[_nghost-%COMP%]{font-size:14px;font-family:Montserrat,sans-serif;display:block;position:relative;min-height:calc(100% - 57px);background-color:#f2f4f5}"]}),t})();function A(t,e){if(1&t){const t=a.Ub();a.Tb(0,"li",8),a.dc("click",function(){a.xc(t);const o=e.$implicit;return a.fc().onSelectOrder(o)}),a.Tb(1,"div",9),a.Tb(2,"div",10),a.Tb(3,"div"),a.Ec(4),a.Sb(),a.Tb(5,"div",11),a.Ec(6),a.Sb(),a.Tb(7,"div",12),a.Ec(8),a.Sb(),a.Tb(9,"div",13),a.Ec(10),a.Sb(),a.Sb(),a.Tb(11,"div",14),a.Tb(12,"div"),a.Tb(13,"small"),a.Ec(14),a.gc(15,"date"),a.Sb(),a.Sb(),a.Tb(16,"div"),a.Ec(17),a.Sb(),a.Sb(),a.Sb(),a.Sb()}if(2&t){const t=e.$implicit;a.Ab(4),a.Gc(" Order # ",t.orderNumber," "),a.Ab(2),a.Fc(t.paymentStatus),a.Ab(2),a.Fc(t.orderStatus),a.Ab(2),a.Fc(t.paymentMethod),a.Ab(4),a.Gc(" ",a.ic(15,6,t.createdAt,"short"),""),a.Ab(3),a.Gc("Total : ",t.total,"")}}function E(t,e){if(1&t){const t=a.Ub();a.Tb(0,"pagination",15),a.dc("pageChange",function(e){return a.xc(t),a.fc().refreshOrderData(e)}),a.Sb()}if(2&t){const t=a.fc();a.mc("page",t.orderPage.page)("collectionSize",t.orderPage.totalDocs)("pageSize",t.orderPage.limit)("short",!0)}}let C=(()=>{class t{constructor(t){this.service=t,this.pick=new a.o,this.search="",this.loading=!1}ngOnInit(){this.pagi=new d.a(1,8,"orderNumber","desc","")}searchOrder(t){return Object(i.a)(this,void 0,void 0,function*(){try{this.loading=!0,this.orderPage=yield this.service.search(t).toPromise(),this.loading=!1}catch(e){}})}onSelectOrder(t){this.pick.emit(t)}}return t.\u0275fac=function(e){return new(e||t)(a.Ob(s.a))},t.\u0275cmp=a.Ib({type:t,selectors:[["app-order-side-search"]],outputs:{pick:"pick"},decls:12,vars:3,consts:[[1,"list-group","mb-1"],[1,"list-group-item"],[1,"list-group-item","p-2"],[3,"ngSubmit"],[1,"form-group","m-0"],["placeholder","OrderNumber / Name / Phone","name","search",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["class","list-group-item ordres",3,"click",4,"ngFor","ngForOf"],[3,"page","collectionSize","pageSize","short","pageChange",4,"ngIf"],[1,"list-group-item","ordres",3,"click"],[1,"row"],[1,"col"],[1,"badge","badge-primary","mx-1"],[1,"badge","badge-success","mx-1"],[1,"badge","badge-info","mx-1"],[1,"col-auto"],[3,"page","collectionSize","pageSize","short","pageChange"]],template:function(t,e){1&t&&(a.Tb(0,"ul",0),a.Tb(1,"li",1),a.Ec(2," Please select a "),a.Tb(3,"strong"),a.Ec(4," Order "),a.Sb(),a.Ec(5," from list below "),a.Sb(),a.Tb(6,"li",2),a.Tb(7,"form",3),a.dc("ngSubmit",function(){return e.searchOrder(e.pagi)}),a.Tb(8,"div",4),a.Tb(9,"input",5),a.dc("ngModelChange",function(t){return e.pagi.param=t}),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Cc(10,A,18,9,"li",6),a.Sb(),a.Cc(11,E,1,4,"pagination",7)),2&t&&(a.Ab(9),a.mc("ngModel",e.pagi.param),a.Ab(1),a.mc("ngForOf",null==e.orderPage?null:e.orderPage.docs),a.Ab(1),a.mc("ngIf",(null==e.orderPage?null:e.orderPage.totalPages)>1))},directives:[b.v,b.m,b.n,b.a,b.l,b.o,l.n,l.o,u.a],pipes:[l.f],styles:[".ordres[_ngcontent-%COMP%]{font-size:14px;padding:5px}.ordres[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#ffc247}a[_ngcontent-%COMP%]{color:#00f!important;cursor:pointer}"]}),t})();function x(t,e){if(1&t&&(a.Tb(0,"option",20),a.Ec(1),a.Sb()),2&t){const t=e.$implicit;a.mc("value",t.name),a.Ab(1),a.Fc(t.text)}}function F(t,e){if(1&t&&(a.Tb(0,"option",20),a.Ec(1),a.Sb()),2&t){const t=e.$implicit;a.mc("value",t.name),a.Ab(1),a.Gc("",t.text," ")}}function k(t,e){if(1&t&&(a.Tb(0,"option",20),a.Ec(1),a.Sb()),2&t){const t=e.$implicit;a.mc("value",t.name),a.Ab(1),a.Gc("",t.text," ")}}function w(t,e){if(1&t){const t=a.Ub();a.Tb(0,"div",6),a.Pb(1,"app-order-details",7),a.Tb(2,"h5",8),a.Ec(3,"Update Order Status"),a.Sb(),a.Tb(4,"div",9),a.Tb(5,"div",10),a.Tb(6,"label",11),a.Ec(7,"Order Status"),a.Sb(),a.Tb(8,"select",12),a.dc("ngModelChange",function(e){return a.xc(t),a.fc().status.orderStatus=e}),a.Cc(9,x,2,2,"option",13),a.Sb(),a.Sb(),a.Tb(10,"div",10),a.Tb(11,"label",14),a.Ec(12,"Payment Methods"),a.Sb(),a.Tb(13,"select",15),a.dc("ngModelChange",function(e){return a.xc(t),a.fc().status.paymentMethod=e}),a.Cc(14,F,2,2,"option",13),a.Sb(),a.Sb(),a.Tb(15,"div",10),a.Tb(16,"label",16),a.Ec(17,"Payment Status"),a.Sb(),a.Tb(18,"select",17),a.dc("ngModelChange",function(e){return a.xc(t),a.fc().status.paymentStatus=e}),a.Cc(19,k,2,2,"option",13),a.Sb(),a.Sb(),a.Tb(20,"div",18),a.Tb(21,"button",19),a.dc("click",function(){return a.xc(t),a.fc().onUpdateStatus()}),a.Ec(22,"Update"),a.Sb(),a.Sb(),a.Sb(),a.Sb()}if(2&t){const t=a.fc();a.Ab(1),a.mc("order",t.order)("admin",!0),a.Ab(7),a.mc("ngModel",t.status.orderStatus),a.Ab(1),a.mc("ngForOf",t.orderStatusData),a.Ab(4),a.mc("ngModel",t.status.paymentMethod),a.Ab(1),a.mc("ngForOf",t.paymentMethodsData),a.Ab(4),a.mc("ngModel",t.status.paymentStatus),a.Ab(1),a.mc("ngForOf",t.paymentStatusData)}}const D=[{path:"search",component:(()=>{class t{constructor(t){this.service=t}ngOnInit(){this.paymentMethodsData=c.d,this.orderStatusData=c.c,this.paymentStatusData=c.e}onDetails({_id:t}){return Object(i.a)(this,void 0,void 0,function*(){try{this.order=yield this.service.getOrder(t).toPromise(),this.order._id=t,this.status={orderStatus:this.order.orderStatus,paymentStatus:this.order.paymentStatus,paymentMethod:this.order.paymentMethod}}catch(e){console.log(e)}})}onUpdateStatus(){return Object(i.a)(this,void 0,void 0,function*(){try{this.order=yield this.service.updateStatus(this.order._id,this.status).toPromise()}catch(t){console.log(t)}})}}return t.\u0275fac=function(e){return new(e||t)(a.Ob(s.a))},t.\u0275cmp=a.Ib({type:t,selectors:[["app-search"]],decls:8,vars:1,consts:[[1,"container-fluid","component-head"],[1,"container-fluid"],[1,"row"],[1,"col-md-3"],[3,"pick"],["class","col-md-9",4,"ngIf"],[1,"col-md-9"],[3,"order","admin"],[1,"mt-3"],[1,"form-row","bg-white","m-1","p-2","mb-5","border"],[1,"form-group","col","m-0"],["for","orderStatus"],["id","orderStatus",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["for","paymentMethods"],["id","paymentMethods",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["for","paymentStatus"],["id","paymentMethod",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],[1,"col-auto","d-flex","align-items-end"],[1,"btn","btn-sm","btn-primary",3,"click"],[3,"value"]],template:function(t,e){1&t&&(a.Tb(0,"div",0),a.Tb(1,"h3"),a.Ec(2,"Search Order"),a.Sb(),a.Sb(),a.Tb(3,"div",1),a.Tb(4,"div",2),a.Tb(5,"div",3),a.Tb(6,"app-order-side-search",4),a.dc("pick",function(t){return e.onDetails(t)}),a.Sb(),a.Sb(),a.Cc(7,w,23,8,"div",5),a.Sb(),a.Sb()),2&t&&(a.Ab(7),a.mc("ngIf",e.order))},directives:[C,l.o,v.a,b.s,b.l,b.o,l.n,b.p,b.u],styles:[""]}),t})()},{path:"",component:P}];let I=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.Mb({type:t}),t.\u0275inj=a.Lb({imports:[[n.a,r.d.forChild(D)]]}),t})()}}]);